From e70fcb8533e7ec780f94d96152506f0365f56c97 Mon Sep 17 00:00:00 2001
From: Mathieu Westphal <mathieu.westphal@kitware.com>
Date: Wed, 29 Oct 2025 17:21:46 +0100
Subject: [PATCH] install-bin

---
 cmake/macros/Private.cmake | 11 ++++++-----
 cmake/macros/Public.cmake  |  5 +++--
 2 files changed, 9 insertions(+), 7 deletions(-)

diff --git a/cmake/macros/Private.cmake b/cmake/macros/Private.cmake
index b90b743de..a08164afd 100644
--- a/cmake/macros/Private.cmake
+++ b/cmake/macros/Private.cmake
@@ -1231,6 +1231,7 @@ function(_pxr_library NAME)
     _get_install_dir("include" headerInstallDir)
     _get_install_dir("include/${PXR_PREFIX}/${NAME}" headerInstallPrefix)
     _get_install_dir("lib" libInstallPrefix)
+    _get_install_dir("bin" binInstallPrefix)
     if(isPlugin)
         if(NOT isObject)
             # A plugin embedded in the monolithic library is found in
@@ -1423,12 +1424,12 @@ function(_pxr_library NAME)
                 TARGETS ${NAME}
                 LIBRARY DESTINATION ${libInstallPrefix}
                 ARCHIVE DESTINATION ${libInstallPrefix}
-                RUNTIME DESTINATION ${libInstallPrefix}
+                RUNTIME DESTINATION ${binInstallPrefix}
             )
             if(WIN32)
                 install(
                     FILES $<TARGET_PDB_FILE:${NAME}>
-                    DESTINATION ${libInstallPrefix}
+                    DESTINATION ${binInstallPrefix}
                     OPTIONAL
                 )
             endif()
@@ -1438,13 +1439,13 @@ function(_pxr_library NAME)
                 EXPORT pxrTargets
                 LIBRARY DESTINATION ${libInstallPrefix}
                 ARCHIVE DESTINATION ${libInstallPrefix}
-                RUNTIME DESTINATION ${libInstallPrefix}
+                RUNTIME DESTINATION ${binInstallPrefix}
             )
             if(WIN32)
                 install(
                     FILES $<TARGET_PDB_FILE:${NAME}>
                     EXPORT pxrTargets
-                    DESTINATION ${libInstallPrefix}
+                    DESTINATION ${binInstallPrefix}
                     OPTIONAL
                 )
             endif()
@@ -1454,7 +1455,7 @@ function(_pxr_library NAME)
                 EXPORT pxrTargets
                 LIBRARY DESTINATION ${libInstallPrefix}
                 ARCHIVE DESTINATION ${libInstallPrefix}
-                RUNTIME DESTINATION ${libInstallPrefix}
+                RUNTIME DESTINATION ${binInstallPrefix}
             )
         endif()

diff --git a/cmake/macros/Public.cmake b/cmake/macros/Public.cmake
index b8e588bf3..418234a5d 100644
--- a/cmake/macros/Public.cmake
+++ b/cmake/macros/Public.cmake
@@ -1154,17 +1154,18 @@ function(pxr_toplevel_prologue)
                     OUTPUT_NAME ${libName}
             )
             _get_install_dir("lib" libInstallPrefix)
+            _get_install_dir("bin" binInstallPrefix)
             install(
                 TARGETS usd_m
                 EXPORT pxrTargets
                 LIBRARY DESTINATION ${libInstallPrefix}
                 ARCHIVE DESTINATION ${libInstallPrefix}
-                RUNTIME DESTINATION ${libInstallPrefix}
+                RUNTIME DESTINATION ${binInstallPrefix}
             )
             if(WIN32)
                 install(
                     FILES $<TARGET_PDB_FILE:usd_m>
-                    DESTINATION ${libInstallPrefix}
+                    DESTINATION ${binInstallPrefix}
                     OPTIONAL
                 )
             endif()
-- 
2.51.1
